{% extends "base.html" %}

{% block title %}パスワードリセット - KifuCloud{% endblock title %}

{% block extra_css %}
<link rel="stylesheet" href="{{ static(master, 'css/accounts.css') }}">
{% endblock extra_css %}

{% block content %}
<div class="container">
  <div class="form-container">
    <div class="form-header">
      <h1 class="form-title">
        <i data-lucide="key" class="title-icon"></i>
        パスワードリセット
      </h1>
      <p class="form-description">
        メールで受信した確認コードを入力し、新しいパスワードを設定してください。
      </p>
    </div>

    {% if message %}
    <div class="alert alert-info">
      <i data-lucide="info" class="alert-icon"></i>
      {{ message }}
    </div>
    {% endif %}

    {% if error %}
    <div class="alert alert-error">
      <i data-lucide="alert-circle" class="alert-icon"></i>
      {{ error }}
    </div>
    {% endif %}

    <form method="post" class="form">
      <div class="form-group">
        <label for="{{ form.username.id }}" class="form-label">{{ form.username.label.text }}</label>
        {{ form.username(class="form-input") }}
      </div>

      <div class="form-group">
        <label for="{{ form.confirmation_code.id }}" class="form-label">{{ form.confirmation_code.label.text }}</label>
        {{ form.confirmation_code(class="form-input") }}
      </div>

      <div class="form-group">
        <label for="{{ form.new_password.id }}" class="form-label">{{ form.new_password.label.text }}</label>
        {{ form.new_password(class="form-input") }}
      </div>

      <div class="form-group">
        <label for="{{ form.confirm_password.id }}" class="form-label">{{ form.confirm_password.label.text }}</label>
        {{ form.confirm_password(class="form-input") }}
      </div>

      <div class="form-actions">
        <button type="submit" class="btn btn-primary">
          <i data-lucide="save" class="btn-icon"></i>
          パスワードをリセット
        </button>
        <a href="{{ reverse(master, 'accounts:login') }}" class="btn btn-outline">
          <i data-lucide="arrow-left" class="btn-icon"></i>
          ログインに戻る
        </a>
      </div>
    </form>
  </div>
</div>

{% endblock content %}