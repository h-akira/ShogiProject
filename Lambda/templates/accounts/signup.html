{% extends 'base.html' %}

{% block title %}アカウント作成 - KifuCloud{% endblock title %}

{% block extra_css %}
<link rel="stylesheet" href="{{ static(master, 'css/auth.css') }}">
{% endblock extra_css %}

{% block extra_js %}
<script src="{{ static(master, 'js/username-validation.js') }}"></script>
{% endblock extra_js %}

{% block content %}
<div class="auth-page">
  <div class="auth-container">
    <div class="auth-card">
      <div class="auth-header">
        <div class="auth-logo">📋</div>
        <h1 class="auth-title">アカウント作成</h1>
        <p class="auth-subtitle">KifuCloudで将棋の旅を始めましょう</p>
      </div>

      {% if error %}
      <div class="alert alert-danger">
        <i data-lucide="alert-circle" style="width: 16px; height: 16px; margin-right: 8px; vertical-align: middle;"></i>
        {{ error }}
      </div>
      {% endif %}
      
      <form method="post">
        <div class="form-group">
          <label class="form-label">{{ form.username.label }}</label>
          {{ form.username(class="form-input" + (" error" if form.username.errors else "")) }}
          {% if form.username.errors %}
          <div class="form-error">
            {% for error in form.username.errors %}
            {{ error }}
            {% endfor %}
          </div>
          {% endif %}
        </div>
        
        <div class="form-group">
          <label class="form-label">{{ form.email.label }}</label>
          {{ form.email(class="form-input" + (" error" if form.email.errors else "")) }}
          {% if form.email.errors %}
          <div class="form-error">
            {% for error in form.email.errors %}
            {{ error }}
            {% endfor %}
          </div>
          {% endif %}
        </div>
        
        <div class="form-group">
          <label class="form-label">{{ form.password.label }}</label>
          {{ form.password(class="form-input" + (" error" if form.password.errors else "")) }}
          {% if form.password.errors %}
          <div class="form-error">
            {% for error in form.password.errors %}
            {{ error }}
            {% endfor %}
          </div>
          {% endif %}
        </div>
        
        <button type="submit" class="auth-submit">
          <i data-lucide="user-plus" style="width: 16px; height: 16px; margin-right: 8px; vertical-align: middle;"></i>
          アカウント作成
        </button>
      </form>

      <div class="auth-links">
        <a href="{{ get_login_url(master) }}" class="auth-link">
          <i data-lucide="log-in" style="width: 16px; height: 16px; margin-right: 8px; vertical-align: middle;"></i>
          すでにアカウントをお持ちですか？ログイン
        </a>
        <a href="{{ reverse(master, 'home') }}" class="auth-link secondary">
          <i data-lucide="home" style="width: 16px; height: 16px; margin-right: 8px; vertical-align: middle;"></i>
          ホームに戻る
        </a>
      </div>
    </div>
  </div>
</div>
{% endblock content %}