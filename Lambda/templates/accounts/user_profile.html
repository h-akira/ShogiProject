{% extends "base.html" %}

{% block title %}ユーザー情報 - KifuCloud{% endblock title %}

{% block extra_css %}
<link rel="stylesheet" href="{{ static(master, 'css/accounts.css') }}">
{% endblock extra_css %}

{% block content %}
<div class="container">
  <div class="profile-container">
    <div class="profile-header">
      <h1 class="profile-title">
        <i data-lucide="user" class="title-icon"></i>
        ユーザー情報
      </h1>
    </div>

    {% if message %}
    <div class="alert alert-success">
      <i data-lucide="check-circle" class="alert-icon"></i>
      {{ message }}
    </div>
    {% endif %}

    <div class="profile-header">
      <div class="profile-avatar">
        {% if username %}{{ username[0]|upper }}{% else %}U{% endif %}
      </div>
      <h2 class="profile-username">{{ username }}</h2>
      <p class="profile-email">{{ email or 'メールアドレス未設定' }}</p>
    </div>

    <div class="profile-card">
      <div class="profile-info">
        <div class="info-row">
          <label class="info-label">ユーザー名</label>
          <span class="info-value">{{ username }}</span>
        </div>
        <div class="info-row">
          <label class="info-label">メールアドレス</label>
          <span class="info-value">{{ email or 'メールアドレス未設定' }}</span>
        </div>
      </div>

      <div class="profile-actions">
        <a href="{{ reverse(master, 'accounts:change_password') }}" class="btn btn-secondary">
          <i data-lucide="key" class="btn-icon"></i>
          パスワード変更
        </a>
        
        <a href="{{ get_logout_url(master) }}" class="btn btn-outline">
          <i data-lucide="log-out" class="btn-icon"></i>
          ログアウト
        </a>
      </div>
    </div>

    <div class="profile-nav">
      <a href="{{ reverse(master, 'home') }}" class="nav-back">
        <i data-lucide="arrow-left" class="nav-icon"></i>
        ホームに戻る
      </a>
      {% if master.request.auth %}
      <a href="{{ reverse(master, 'kifu:index', username=master.request.username) }}" class="nav-back">
        <i data-lucide="user" class="nav-icon"></i>
        マイページに戻る
      </a>
      {% endif %}
    </div>
  </div>
</div>

{% endblock content %}