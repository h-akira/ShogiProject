{% extends 'base.html' %}

{% block title %}アカウント情報 - KifuCloud{% endblock title %}

{% block extra_css %}
<link rel="stylesheet" href="{{ static(master, 'css/accounts.css') }}">
{% endblock extra_css %}

{% block content %}
<div class="account-page fade-in">
  <div class="account-container">
    <!-- Page Header -->
    <div class="account-header">
      <h1 class="account-title">アカウント情報</h1>
      <p class="account-subtitle">
        あなたのプロフィール情報を確認し、アカウント設定を管理できます
      </p>
    </div>


    <!-- Main Content -->
    <div class="account-main-single slide-up">
      <!-- User Information Section -->
      <div class="account-section">
        <div class="section-header">
          <i data-lucide="user" class="section-icon"></i>
          <h2 class="section-title">ユーザー情報</h2>
        </div>

        {% if message %}
        <div class="account-alert success">
          <i data-lucide="check-circle" class="alert-icon"></i>
          <div>{{ message }}</div>
        </div>
        {% endif %}

        <div class="user-info-grid">
          <div class="info-item">
            <div class="info-label">ユーザー名</div>
            <div class="info-value">{{ username }}</div>
          </div>

          {% if user_info.email %}
          <div class="info-item">
            <div class="info-label">メールアドレス</div>
            <div class="info-value">{{ user_info.email }}</div>
          </div>
          {% endif %}

          {% if user_info.sub %}
          <div class="info-item">
            <div class="info-label">ユーザーID</div>
            <div class="info-value monospace">{{ user_info.sub }}</div>
          </div>
          {% endif %}

          {% if user_info.email %}
          <div class="info-item">
            <div class="info-label">メール認証状態</div>
            <div class="info-value">
              {% if user_info.email_verified %}
                <span style="color: var(--success); font-weight: var(--font-weight-semibold);">
                  <i data-lucide="check-circle" style="width: 16px; height: 16px; vertical-align: middle; margin-right: 4px;"></i>
                  認証済み
                </span>
              {% else %}
                <span style="color: var(--warning); font-weight: var(--font-weight-semibold);">
                  <i data-lucide="alert-circle" style="width: 16px; height: 16px; vertical-align: middle; margin-right: 4px;"></i>
                  未認証
                </span>
              {% endif %}
            </div>
          </div>
          {% endif %}
        </div>
      </div>

      <!-- Account Management Section -->
      <div class="account-section">
        <div class="section-header">
          <i data-lucide="settings" class="section-icon"></i>
          <h2 class="section-title">アカウント管理</h2>
        </div>

        <div class="action-buttons">
          <a href="{{ reverse(master, 'accounts:change_password') }}" class="action-btn">
            <i data-lucide="key" class="btn-icon"></i>
            パスワード変更
          </a>

          <a href="{{ get_logout_url(master) }}" class="action-btn secondary">
            <i data-lucide="log-out" class="btn-icon"></i>
            ログアウト
          </a>

          <a href="{{ reverse(master, 'accounts:delete_account') }}" class="action-btn danger" onclick="return confirm('本当にアカウントを削除しますか？この操作は元に戻せません。')">
            <i data-lucide="trash-2" class="btn-icon"></i>
            アカウント削除
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock content %}